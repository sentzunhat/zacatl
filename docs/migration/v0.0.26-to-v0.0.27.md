# Migration Guide: v0.0.26 → v0.0.27

This release focuses on compatibility fixes and DI stability verification. There are no breaking changes.

## ✅ Summary

- Added CommonJS-compatible `require` entry for the main export
- Expanded DI test coverage (integration, repositories, lazy ORM initialization)
- No API changes required for existing users

## ✅ Who Needs This Migration?

You should follow this guide if you:

- Consume Zacatl from CommonJS (`require(...)`)
- Want verified DI behavior with lazy ORM initialization

If you only use ESM `import` statements, this release is still recommended but does not require code changes.

## ✅ Upgrade Steps

1. Update package version:

```bash
npm install @sentzunhat/zacatl@0.0.27
```

2. (Optional) Validate exports in your build:

```typescript
import { Service } from "@sentzunhat/zacatl";
```

3. (Optional) Run your unit tests:

```bash
npm test
```

## ✅ No Code Changes Required

All existing imports and DI registration patterns remain the same:

```typescript
import {
  registerWithDependencies,
  registerSingletonWithDependencies,
  resolveDependency,
} from "@sentzunhat/zacatl";
```

## ✅ Notes on DI Behavior

- DI continues to work without decorator metadata
- Lazy ORM initialization remains the default behavior
- Repositories should not initialize ORMs in constructors

---

If you have any issues, please open a GitHub issue with your runtime logs and minimal reproduction steps.
